<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/png" href="" sizes="190x190">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <title>Meus Animes</title>
    <style>
        .active {
            color: rgb(32, 136, 255) !important;
        }
    </style>
</head>
<body>

    <header>

        <div class="caixa-header">
            <input type="text" id="searchInput" placeholder="Procure por um anime">
            <a href="index.html" id="homeLink" class="nav-link">
                <i class='bx bxs-movie-play'></i>
            </a>
            <a href="mangas.html" id="mangasLink" class="nav-link">
                <i class='bx bxs-book-open active'></i>
            </a>
        </div>

    </header>

    <div class="video-container">
        <video autoplay loop muted>
            <source src="capa-video.mp4" type="video/mp4">
            Seu navegador não suporta o elemento de vídeo.
        </video>
        <div class="gradient-overlay"></div>
        <div class="logo">
            <img src="img/logo.png" alt="">
            <div class="text-logo">
                <h4 id="h4-1">Meus</h4>
                <h4 id="h4-2">Mangás</h4>
            </div>
        </div>
    </div>

    <div class="arrow-up" onclick="scrollToTop()">
        <i class='bx bxs-up-arrow-circle'></i>
    </div>

    <main>

        <div class="caixa-main">

            <!-- contador de animes -->
            <div class="quantias">
                <h1>Meus Mangás:</h1>
                <h1 id="quantia">0</h1>
            </div>

            <!-- container com todos os cards -->
            <div class="caixa-cards">

                <!-- kimetsu no yaiba -->
                <div class="card">
                    <img src="img/0kimetsu.jpg" alt="naruto">
                    <h2>Kimetsu no Yaiba</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>205</p>
                        </div>
                    </div>
                </div>

                <!-- bleach -->
                <div class="card">
                    <img src="img/0bleach.jpg" alt="naruto">
                    <h2>Bleach</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>686</p>
                        </div>
                    </div>
                </div>

                <!-- shingeki -->
                <div class="card">
                    <img src="img/0shingeki.jpg" alt="naruto">
                    <h2>Shingeki no Kyojin</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>139</p>
                        </div>
                    </div>
                </div>

                <!-- nanatsu -->
                <div class="card">
                    <img src="img/0nanatsu.jpg" alt="naruto">
                    <h2>Nanatsu no Taizai</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>346</p>
                        </div>
                    </div>
                </div>

                <!-- solo -->
                <div class="card">
                    <img src="img/0solo-leveling.jpg" alt="naruto">
                    <h2>Solo Leveling</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>200</p>
                        </div>
                    </div>
                </div>

                <!-- tokyo revengers -->
                <div class="card">
                    <img src="img/0tokyo-revengers.jpg" alt="naruto">
                    <h2>Tokyo Revengers</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>278</p>
                        </div>
                    </div>
                </div>

                <!-- jujutsu -->
                <div class="card">
                    <img src="img/0jujutsu.jpg" alt="naruto">
                    <h2>Jujutsu Kaisen</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>246</p>
                        </div>
                    </div>
                </div>

                <!-- chainsaw -->
                <div class="card">
                    <img src="img/0chainsaw.jpg" alt="naruto">
                    <h2>Chainsaw Man</h2>
                    <div class="eps-temps">
                        <div>
                            <i class='bx bxs-book-content'></i>
                            <p>150</p>
                        </div>
                    </div>
                </div>

                

                













            </div>

        </div>

    </main>

    <!-- Filtro de pesquisa -->
    <script>
        document.getElementById('searchInput').addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase(); // Obtém o valor do campo de entrada e converte para minúsculas

            // Seleciona todos os elementos .card
            const cards = document.querySelectorAll('.card');

            // Itera sobre os cards e verifica se atende aos critérios de pesquisa
            cards.forEach(function(card) {
                const title = card.querySelector('h2'); // Obtém o título do card
                const epsTemps = card.querySelector('.eps-temps'); // Obtém a div com a classe "eps-temps"
                const epsValue = epsTemps.querySelector('p').textContent; // Obtém o valor do número de episódios/temporadas

                // Verifica se o termo de pesquisa está presente no título do card
                const searchTermMatchesTitle = title.textContent.toLowerCase().includes(searchTerm);

                // Verifica se o termo de pesquisa começa com ":" e se o título do anime contém o termo de pesquisa e se a quantidade de episódios/temporadas é "--"
                const searchTermIsUnwatchedAnime = searchTerm.startsWith("!") && epsValue === "--" && title.textContent.toLowerCase().includes(searchTerm.substring(1));

                // Exibe o card se atender aos critérios de pesquisa ou se o campo de pesquisa estiver vazio
                if (searchTermMatchesTitle || searchTermIsUnwatchedAnime || searchTerm === "") {
                    card.style.display = 'flex'; // Exibe o card
                } else {
                    card.style.display = 'none'; // Oculta o card
                }
            });
        });
    </script>

    <!-- atualiza os ícones de navegação -->
    <script>
        // Adiciona um ouvinte para o evento DOMContentLoaded para garantir que o script seja executado após o carregamento completo do DOM
        document.addEventListener("DOMContentLoaded", function() {
            // Seleciona os ícones dentro da caixa de cabeçalho
            const homeIcon = document.getElementById('homeIcon');
            const mangasIcon = document.getElementById('mangasIcon');
    
            // Adiciona um evento de clique aos links de navegação
            const navLinks = document.querySelectorAll('.nav-link');
            navLinks.forEach(link => {
                link.addEventListener('click', function(event) {
                    // Remove a classe ativa de todos os ícones
                    homeIcon.classList.remove('active');
                    mangasIcon.classList.remove('active');
    
                    // Adiciona a classe ativa ao ícone clicado
                    const clickedIcon = this.querySelector('i');
                    clickedIcon.classList.add('active');
                });
            });
        });
    </script>

    <!-- ordenador dos cards -->
    <script>
        // Função para ordenar os cards em ordem alfabética
        function ordenarCards() {
            const cardsContainer = document.querySelector('.caixa-cards');
            const cards = Array.from(cardsContainer.querySelectorAll('.card'));

            // Ordena os cards com base nos títulos (h2)
            cards.sort((a, b) => {
                const titleA = a.querySelector('h2').textContent.toLowerCase();
                const titleB = b.querySelector('h2').textContent.toLowerCase();
                return titleA.localeCompare(titleB);
            });

            // Remove todos os cards do container
            cards.forEach(card => card.remove());

            // Adiciona os cards ordenados de volta ao container
            cards.forEach(card => cardsContainer.appendChild(card));
        }

        // Ordena os cards automaticamente ao carregar a página
        window.addEventListener('load', ordenarCards);
    </script>

    <!-- atualizar a quantia de mangás -->
    <script>
        // Função para contar quantos cards existem e atualizar o h1 com id "quantia"
        function atualizarQuantidade() {
            const cards = document.querySelectorAll('.card');
            const quantidade = cards.length;
            document.getElementById('quantia').textContent = quantidade;
        }

        // Chamada inicial da função para garantir que a quantidade seja exibida corretamente
        atualizarQuantidade();
    </script>

    
    
</body>
</html>